# vmp-http-spec - OpenAPI Specification for the vmp-server HTTP interface
# Copyright (C) 2023 Hugo Melder
# 
# SPDX-License-Identifier: MIT

type: object
title: StatusResponse
description: A status response
required:
  - server
  - rtsp
  - systemStatus
properties:
  server:
    type: object
    description: Server info
    required:
      - version
      - channel
    properties:
      version:
        type: string
        description: Server version
      channel:
        type: string
        description: Server channel
        enum:
          - "STABLE"
          - "DEV"
  rtsp:
    type: object
    description: RTSP info
    properties:
      address:
        type: string
        description: RTSP address
      port:
        type: string
        description: RTSP port
      mountpoints:
        type: array
        description: RTSP mountpoints. The key is the path of the mountpoint, the value is the pipeline ID.
        items:
          $ref: '../schemas/KeyValue.yaml'
  systemStatus:
    type: string
    description: Global status of the server
    enum:
      - "AVAILABLE"
      - "REDUCED_AVAILABLITY"
      - "NOT_AVAILABLE"